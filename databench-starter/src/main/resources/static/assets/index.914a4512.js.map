{"version":3,"file":"index.914a4512.js","sources":["../../vite/modulepreload-polyfill","../../vite/preload-helper","../../src/components/button/index.tsx","../../src/pages/home/index.tsx","../../src/routes/index.ts","../../src/utils/common.ts","../../src/stores/databench/ui.tsx","../../src/utils/request.ts","../../src/pages/databench/api/code.ts","../../src/pages/databench/api/console.ts","../../src/pages/databench/layout/window/tabUtils.ts","../../src/stores/databench/data.tsx","../../src/stores/index.tsx","../../src/main.tsx"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","const scriptRel = 'modulepreload';const seen = {};const base = '/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import React, { AnchorHTMLAttributes, ButtonHTMLAttributes } from 'react'\nimport './index.css'\n\nimport classNames from 'classnames'\nimport { BaseProps } from '@/pages/databench/types/client'\n\nexport type ButtonSize = 'lg' | 'sm'\nexport type ButtonColor = 'blue' | 'red' | 'green'\n\ninterface BaseButtonProps extends BaseProps {\n  disabled?: boolean\n  size?: ButtonSize\n  color?: ButtonColor\n  href?: string\n  link?: boolean\n}\n\ntype NativeButtonProps = BaseButtonProps & ButtonHTMLAttributes<HTMLElement>\ntype AnchorButtonProps = BaseButtonProps & AnchorHTMLAttributes<HTMLElement>\nexport type ButtonProps = Partial<NativeButtonProps & AnchorButtonProps>\n\nconst Button: React.FC<ButtonProps> = (props) => {\n  const { className, size, color, href, link, disabled, children, ...restProps } = props\n\n  const classes = classNames('btn', color ? 'color' : '', link ? 'link' : 'button', className, {\n    [`btn-${color}`]: color,\n    disabled,\n    [`btn-${size}`]: size\n  })\n\n  return link ? (\n    <a className={classes} href={href} {...restProps}>\n      {children}\n    </a>\n  ) : (\n    <button disabled={disabled} {...restProps} className={classes}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import Button from '@/components/button'\n\nimport React from 'react'\nimport { useHistory } from 'react-router'\n\nconst pages = [\n  {\n    path: '/uiTest',\n    name: 'UI测试页面'\n  },\n  { path: '/workspace', name: 'Visual Databench大数据工作台' }\n]\n\nexport default React.memo(() => {\n  const history = useHistory()\n  return (\n    <div className=\" p-25\">\n      <div className=\" text-2xl mb-20\">首页</div>\n      {pages.map((i) => (\n        <Button key={i.name} className=\"mr-10\" onClick={() => history.push({ pathname: i.path })}>\n          {i.name}\n        </Button>\n      ))}\n    </div>\n  )\n})\n","import loadable from '@loadable/component'\nimport { RouteConfig } from 'react-router-config'\nimport Home from '@/pages/home'\n\nconst routesConfig: RouteConfig[] = [\n  {\n    path: '/',\n    exact: true,\n    component: Home\n  },\n  {\n    path: '/workspace',\n    exact: true,\n    component: loadable(() => import('@/pages/workspace'))\n  },\n  {\n    path: '/databench',\n    exact: true,\n    component: loadable(() => import('@/pages/databench'))\n  },\n  {\n    path: '/uiTest',\n    exact: true,\n    component: loadable(() => import('@/pages/uiTest'))\n  },\n  {\n    path: '/test',\n    exact: true,\n    component: loadable(() => import('@/pages/test'))\n  }\n]\n\nexport default routesConfig\n","export interface LooseObject {\n  [key: string]: any\n}\n\nexport const newVal = <T = any>(t: T, consumer: (t: T) => void): T => {\n  let i = { ...t }\n  consumer(i)\n  return i\n}\n\nexport const loosertSetList = <T = any>(\n  list: T[],\n  predicate: (t: T) => boolean,\n  consumer: (obj: LooseObject) => {}\n): T[] => {\n  return list.map((i) => {\n    let j = i as unknown as LooseObject\n    if (predicate(i)) {\n      consumer(j)\n      return j as T\n    }\n    return i as T\n  })\n}\n\nexport const rtSetList = <T = any>(\n  list: T[],\n  predicate: (t: T) => boolean,\n  consumer: (t: T) => void\n): T[] => {\n  return list.map((t) => {\n    if (predicate(t)) {\n      consumer(t)\n    }\n    return t\n  })\n}\n\nexport const addRt = <T = any>(list: T[], t: T): T[] => {\n  return list.concat([t])\n}\n\nexport const addOrrtSetList = <T = any>(\n  list: T[],\n  t: T,\n  predicate: (t: T) => boolean,\n  consumer: (t: T) => void\n): T[] => {\n  const index = list.findIndex((i) => predicate(i))\n  if (index === -1) {\n    return list.concat([t])\n  } else {\n    return rtSetList(list, predicate, consumer)\n  }\n}\n\nexport const setLocal = <T = any>(key: string, value: T) => {\n  localStorage.setItem(key, JSON.stringify(value))\n}\n\nexport const getLocal = <T = any>(key: string, defaultValue: T) => {\n  const value = localStorage.getItem(key)\n  return value === undefined || value == null ? defaultValue : JSON.parse(value)\n}\n\nlet count = 0\nexport const commonClick = (consumer: (double: boolean) => void) => {\n  count += 1\n  setTimeout(() => {\n    if (count > 0) {\n      consumer(count == 2)\n    }\n    count = 0\n  }, 200)\n}\n","// store.ts\nimport { action, autorun, computed, observable, toJS } from 'mobx'\nimport { IWindowTab } from '@/pages/databench/types/client'\nimport { getLocal, setLocal } from '@/utils/common'\n\nexport type Theme = 'dark' | 'light'\n\ninterface UiSetting {\n  theme: Theme\n  curTabKey: string\n  windowFooterSplitSize: number | string\n  windowFooterVsible: boolean\n  windowFooterFull: boolean\n}\n\nvar tabs: IWindowTab[] = observable.array(getLocal('___tabs_caches', []), { deep: true })\nvar uiSetting: UiSetting = observable(\n  getLocal('___ui_setting', {\n    theme: 'dark',\n    curTabKey: '',\n    windowFooterSplitSize: 360,\n    windowFooterVsible: true\n  })\n)\n\nconst toggleWindowFooterVisible = action(\n  () => (uiSetting.windowFooterVsible = !uiSetting.windowFooterVsible)\n)\n\nconst setWindowFooterVisible = action((visible: boolean) => {\n  uiSetting.windowFooterVsible = visible\n})\n\nconst setWindowFooterFull = action((full: boolean) => {\n  uiSetting.windowFooterFull = full\n})\n\nconst changeWindowFooterSplitSize = action(\n  (size: number | string) => (uiSetting.windowFooterSplitSize = size)\n)\n\nautorun(() => {\n  setLocal('___tabs_caches', tabs)\n  setLocal('___ui_setting', uiSetting)\n\n  if (uiSetting.theme === 'dark') {\n    document.querySelector('html')?.classList.add('dark')\n  } else {\n    document.querySelector('html')?.classList.remove('dark')\n  }\n})\n\nconst toggleTheme = action(() => {\n  uiSetting.theme = uiSetting.theme === 'dark' ? 'light' : 'dark'\n})\n\n//  tab\nconst getTab = (key: string) => tabs.find((i) => i.key === key)\nconst getTabIndex = (key: string) => tabs.findIndex((i) => i.key === key)\n\n// action\nconst addTab = action((newTab: IWindowTab) => {\n  const { key, tmp } = newTab\n  let tab = getTab(key)\n  const tmpIndex = tabs.findIndex((i: IWindowTab) => i.tmp)\n  if (!tab) {\n    if (tmpIndex !== -1) {\n      tabs[tmpIndex] = newTab\n      changeTab(key)\n    } else {\n      tabs.splice(getTabIndex(uiSetting.curTabKey) + 1, 0, newTab)\n      changeTab(key)\n    }\n  } else {\n    tabs.forEach((i) => {\n      if (i.key === key) {\n        Object.assign(i, tab)\n      }\n    })\n    if (uiSetting.curTabKey === key) {\n      if (!tmp) {\n        tab.tmp = false\n      }\n    } else {\n      changeTab(key)\n    }\n  }\n})\n\nconst changeTab = action((key: string) => {\n  uiSetting.curTabKey = key\n})\n\nconst closeTab = action((key: string) => {\n  const index = getTabIndex(key)\n  if (index !== -1) {\n    tabs.splice(index, 1)\n    if (key === uiSetting.curTabKey) {\n      const nextIndex = index < tabs.length ? index : index - 1\n      if (nextIndex !== -1) {\n        changeTab(tabs[nextIndex]?.key)\n      }\n    }\n  }\n})\n\nconst closeAllTabs = action(() => {\n  tabs.splice(0, tabs.length)\n  uiSetting.curTabKey = ''\n})\n\nconst closeOtherTabs = action((key: string) => {\n  const index = getTabIndex(key)\n  tabs.splice(0, index)\n  tabs.splice(1, tabs.length - 1)\n  if (key !== uiSetting.curTabKey) {\n    changeTab(key)\n  }\n})\n\nconst closeToTheRightTabs = action((key: string) => {\n  tabs.splice(getTabIndex(key) + 1, tabs.length)\n  if (key !== uiSetting.curTabKey) {\n    changeTab(key)\n  }\n})\n\nconst closeSavedTabs = action(() => {\n  tabs\n    .filter((i) => !i.changed)\n    .forEach((i) => {\n      tabs.splice(getTabIndex(i.key), 1)\n    })\n\n  if (!tabs.map((i) => i.key).includes(uiSetting.curTabKey) && tabs.length > 0) {\n    changeTab(tabs[0].key)\n  }\n})\n\nconst keepTabOpen = action((key: string) => {\n  tabs.forEach((i) => {\n    if (i.key === key) {\n      i.tmp = false\n    }\n  })\n})\n\nconst setTabChange = action((key: string, value: boolean) => {\n  const tab = getTab(key)\n  if (tab) {\n    tab.changed = value\n    if (value) {\n      tab.tmp = false\n    }\n  }\n})\n\nexport default {\n  tabs,\n  addTab,\n  changeTab,\n  closeTab,\n  closeAllTabs,\n  closeOtherTabs,\n  closeToTheRightTabs,\n  closeSavedTabs,\n  keepTabOpen,\n  getTab,\n  setTabChange,\n  curTab: computed(() => getTab(uiSetting.curTabKey)),\n  uiSetting,\n  toggleTheme,\n  toggleWindowFooterVisible,\n  changeWindowFooterSplitSize,\n  setWindowFooterVisible,\n  setWindowFooterFull\n}\n","import { message } from 'antd'\nimport axios, { AxiosRequestConfig } from 'axios'\n\nconst service = axios.create({\n  baseURL: '/api',\n  timeout: 60000\n})\n\nexport interface Result<T = any> {\n  msg: string\n  data: T\n  errorCdoe: number\n  success: boolean\n}\n\nconst requestResult = async <T = any>(config: AxiosRequestConfig): Promise<Result<T>> => {\n  try {\n    const { data } = await service.request<Result>(config)\n    return data\n  } catch (error) {\n    const msg = (error as any).message || 'Request error'\n    const res: Result<any> = {\n      errorCdoe: -1,\n      msg,\n      data: null as any,\n      success: false\n    }\n    return res\n  }\n}\n\nconst requstData = async <T = any>(config: AxiosRequestConfig): Promise<T> => {\n  return new Promise<T>((res, rej) => {\n    return requestResult(config).then((result) => {\n      if (result.success) {\n        res(result.data)\n      } else {\n        // console.error(result.msg)\n        message.error(result.msg)\n        rej(result.msg)\n      }\n    })\n  })\n}\n\nconst GET = async <T = any>(url: string): Promise<T> => requstData({ url, method: 'GET' })\nconst POST = async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> =>\n  requstData({ url, method: 'POST', data, ...config })\nconst PUT = async <T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> =>\n  requstData({ url, method: 'PUT', data, ...config })\nconst DELETE = async <T = any>(url: string, config?: AxiosRequestConfig): Promise<T> =>\n  requstData({ url, method: 'DELETE', ...config })\n\nexport default {\n  GET,\n  POST,\n  PUT,\n  DELETE\n}\n","import request from '@/utils/request'\nimport {\n  IBizData,\n  IFileTreeData,\n  IFile,\n  IFileDetail,\n  ModuleType,\n  IGraphData,\n  ICommitRecord,\n  IFolderParam,\n  IFileParam,\n  FileType,\n  FileDetailParam,\n  IWorkspace,\n  IOutputNodeVO\n} from '../types/server'\n\nexport const fetchWorkspace = (name: string) => request.GET<IWorkspace>(`/workspace?name=${name}`)\n\nexport const fetchBizList = (workspaceId: number): Promise<IBizData[]> =>\n  request.GET<IBizData[]>(`/biz/list?workspaceId=${workspaceId}`)\n\nexport const fetchTreeData = (\n  workspaceId: number,\n  moduleType: ModuleType,\n  bizId: number\n): Promise<IFileTreeData> =>\n  request.GET<IFileTreeData>(\n    `/tree?workspaceId=${workspaceId}&bizId=${bizId}&moduleType=${moduleType}`\n  )\n\nexport const fetchFileDetail = (fileId: number): Promise<IFileDetail> =>\n  request.GET<IFileDetail>(`/file?fileId=${fileId}`)\n\nexport const fetchDeletedFileList = (workspaceId: number): Promise<IFile[]> => {\n  return request.GET<IFile[]>(`/file/deleteList?workspaceId=${workspaceId}`)\n}\n\nexport const fetchBizGraph = (bizId: number): Promise<IGraphData<IFile>> => {\n  return request.GET<IGraphData<IFile>>(`/biz/graph?bizId=${bizId}`)\n}\n\nexport const fetchOutputNodes = (): Promise<IOutputNodeVO[]> => {\n  return request.GET<IOutputNodeVO[]>(`/node/output`)\n}\nexport const saveFile = (file: IFileDetail) => {\n  return request.PUT<boolean>(`/file/detail`, file)\n}\n\nexport const commitFile = (fileId: number, comment: string) => {\n  return request.POST<boolean>(`/file/commit?`, { fileId, comment })\n}\n\nexport function fetchCommitRecords(fileId: number) {\n  return request.GET<ICommitRecord[]>(`/file/commit/list?fileId=${fileId}`)\n}\n\nexport const createFolder = (param: IFolderParam) => {\n  return request.POST<number>(`/folder`, param)\n}\n\nexport const createFile = (param: IFileParam) => {\n  return request.POST<IFile>('/file', param)\n}\n\nexport const modifyFolder = (param: IFolderParam) => {\n  return request.PUT<number>(`/folder`, param)\n}\n\nexport const modifyFile = (param: IFileParam) => {\n  return request.PUT<number>('/file', param)\n}\n\nexport const deleteFile = (fileId: number) => {\n  return request.DELETE<boolean>(`/file/${fileId}`)\n}\n\nexport const deleteFolder = (folderId: number) => {\n  return request.DELETE<boolean>(`/folder/${folderId}`)\n}\n\nexport const getFiles = (\n  workspaceId: number,\n  bizId: number,\n  moduleType: ModuleType,\n  fileType?: FileType\n) => {\n  let url = `/file/list?workspaceId=${workspaceId}&bizId=${bizId}&moduleType=${moduleType}`\n  if (fileType) {\n    url += `&fileType=${fileType}`\n  }\n  return request.GET<IFile[]>(url)\n}\n\nexport const runFile = (fileId: number, param?: FileDetailParam) => {\n  return request.POST<string>(`/file/run?fileId=${fileId}`, param)\n}\n","import request from '@/utils/request'\nimport {\n  IJobHistory,\n  IJobHistoryParam,\n  ILog,\n  IPageRequest,\n  IPageResonse,\n  IQueryResult\n} from '../types/server'\n\nexport const fetchJobHistoryPage = (param: IPageRequest<IJobHistoryParam>) => {\n  return request.POST<IPageResonse<IJobHistory>>(`/console/jobHistory/page`, param)\n}\n\nexport const getJobHistory = (jobId: string) => {\n  return request.GET<IJobHistory>(`/console/jobHistory?jobId=${jobId}`)\n}\n\nexport const checkJobDone = (jobId: string) => {\n  return request.POST<boolean>(`/console/checkDone?jobId=${jobId}`)\n}\n\nexport const fetchQueryResult = (jobId: string) => {\n  return request.GET<IQueryResult>(`/console/queryResult?jobId=${jobId}`)\n}\n\nexport const fetchOffsetLog = (jobId: string, offset: number, length: number) => {\n  return request.GET<ILog>(`/console/log?jobId=${jobId}&offset=${offset}&length=${length}`)\n}\n\nexport const cancelJob = (jobId: string) => {\n  return request.POST<boolean>(`/console/cancel/${jobId}`)\n}\n","export const isFileTab = (windowTabKey: string) => {\n  return windowTabKey.startsWith('file_')\n}\n\nexport const isCategoryTab = (windowKey: string) => {\n  return windowKey.startsWith('category_')\n}\n\nexport const isBizTab = (windowKey: string) => {\n  return windowKey.startsWith('biz_')\n}\n\nexport const getBizIdFromWindowTabKey = (windowTabKey: string): number | undefined => {\n  if (isBizTab(windowTabKey)) {\n    return Number(windowTabKey.split('_')[1])\n  }\n}\n\nexport const getFileIdFromWindowTabKey = (windowTabKey: string): number | undefined => {\n  if (isFileTab(windowTabKey)) {\n    return Number(windowTabKey.substring(5, windowTabKey.length))\n  }\n}\n","import * as codeApi from '@/pages/databench/api/code'\nimport * as consoleApi from '@/pages/databench/api/console'\nimport {\n  getBizIdFromWindowTabKey,\n  getFileIdFromWindowTabKey\n} from '@/pages/databench/layout/window/tabUtils'\nimport {\n  IFileCfg,\n  IBizData,\n  IFileTreeData,\n  ICommitRecord,\n  IFile,\n  IFileContent,\n  IFileDetail,\n  IConsoleData,\n  IJobHistory\n} from '@/pages/databench/types/server'\nimport { message } from 'antd'\nimport { action, observable, runInAction, toJS } from 'mobx'\n\nexport interface IWorkspaceData {\n  id: number\n  name: string\n  description: string\n  bizList?: IBizData[]\n  fileList: IFileDetail[]\n  tmpQueryTreeData?: IFileTreeData\n  resourceTreeData?: IFileTreeData\n  componentTreeData?: IFileTreeData\n  documentTreeData?: IFileTreeData\n  deleteFileList?: IFile[]\n  consoleDataList: IConsoleData[]\n}\n\nconst workspaceData: IWorkspaceData = observable<IWorkspaceData>({\n  id: 0,\n  name: '测试空间',\n  description: '',\n  fileList: [],\n  consoleDataList: []\n})\n\nconst fetchWorkspace = action(async (name: string) => {\n  const workspace = await codeApi.fetchWorkspace(name)\n  runInAction(() => {\n    Object.assign(workspaceData, workspace)\n  })\n  return workspace\n})\n\nconst fetchBizList = action(async () => {\n  const workspaceId = workspaceData.id\n  let list: IBizData[] = await codeApi.fetchBizList(workspaceId)\n  const promises = list.map((i) => codeApi.fetchTreeData(workspaceId, 'development', i.id))\n  return Promise.all(promises).then((items) => {\n    items.forEach((bizTreeData, index) => {\n      list[index].bizTreeData = bizTreeData\n    })\n    runInAction(() => {\n      workspaceData.bizList = list\n    })\n  })\n})\n\nconst fetchFileDetail = action(async (fileId: number) => {\n  const fileDetail = await codeApi.fetchFileDetail(fileId)\n  const index = workspaceData.fileList.findIndex((i) => i.id === fileId)\n  const fileData = {\n    ...fileDetail,\n    content: { ...fileDetail.content },\n    cfg: { ...fileDetail.cfg },\n    id: fileId\n  }\n  runInAction(() => {\n    if (index === -1) {\n      workspaceData.fileList.push(fileData)\n    } else {\n      workspaceData.fileList.splice(index, 1, fileData)\n    }\n  })\n  return fileData\n})\n\nconst fetchTempQueryTreeData = action(async () => {\n  const tempQueryTreeData: IFileTreeData = await codeApi.fetchTreeData(\n    workspaceData.id,\n    'query',\n    -1\n  )\n  runInAction(() => {\n    workspaceData.tmpQueryTreeData = tempQueryTreeData\n  })\n  return tempQueryTreeData\n})\n\nconst fetchResourceTreeData = action(async () => {\n  const resourceTreeData: IFileTreeData = await codeApi.fetchTreeData(\n    workspaceData.id,\n    'resource',\n    -1\n  )\n  runInAction(() => {\n    workspaceData.resourceTreeData = resourceTreeData\n  })\n  return resourceTreeData\n})\n\nconst fetchDocumentTreeData = action(async () => {\n  const documentTreeData: IFileTreeData = await codeApi.fetchTreeData(\n    workspaceData.id,\n    'document',\n    -1\n  )\n  runInAction(() => {\n    workspaceData.documentTreeData = documentTreeData\n  })\n  return documentTreeData\n})\n\nconst fetchComponentTreeData = action(async () => {\n  const componentTreeData: IFileTreeData = await codeApi.fetchTreeData(\n    workspaceData.id,\n    'component',\n    -1\n  )\n  runInAction(() => {\n    workspaceData.componentTreeData = componentTreeData\n  })\n  return componentTreeData\n})\n\nconst fetchDeleteFileList = action(async () => {\n  const deleteFileList: IFile[] = await codeApi.fetchDeletedFileList(workspaceData.id)\n  runInAction(() => {\n    workspaceData.deleteFileList = deleteFileList.map((i) => ({ ...i, folderId: 0 }))\n  })\n  return deleteFileList\n})\n\nconst changeFileData = (\n  fileId: number,\n  consumer: (fileData: IFileDetail) => void\n): IFileDetail | undefined => {\n  for (const idx in workspaceData.fileList) {\n    const i = workspaceData.fileList[idx]\n    if (i.id === fileId) {\n      consumer(i)\n      return i\n    }\n  }\n  return\n}\n\nconst saveFile = action((fileId: number) => {\n  const file = changeFileData(fileId, (i) => {})\n  return (\n    file &&\n    codeApi.saveFile(file).then(() => {\n      message.success('保存成功!')\n    })\n  )\n})\n\nconst fetchCommitRecords = action(async (fileId: number) => {\n  const records: ICommitRecord[] = await codeApi.fetchCommitRecords(fileId)\n  records.sort((a, b) => b.version - a.version)\n  runInAction(() => {\n    changeFileData(fileId, (i) => (i.commitRecords = records))\n  })\n  return records\n})\n\nconst fetchJobHistoryList = action(\n  async (winTabKey: string, pageNum: number = 1, pageSize: number = 10) => {\n    if (pageNum == 1) {\n      const idx = workspaceData.consoleDataList.findIndex((i) => i.winTabKey === winTabKey)\n      if (idx !== -1) {\n        workspaceData.consoleDataList.splice(idx, 1)\n      }\n      workspaceData.consoleDataList.push({\n        winTabKey,\n        jobId: undefined,\n        jobHistoryList: []\n      })\n    }\n\n    const pageData = await consoleApi.fetchJobHistoryPage({\n      pageNum,\n      pageSize,\n      filter: {\n        fileId: getFileIdFromWindowTabKey(winTabKey),\n        workspaceId: workspaceData.id,\n        bizId: getBizIdFromWindowTabKey(winTabKey)\n      }\n    })\n\n    workspaceData.consoleDataList.forEach((i) => {\n      if (i.winTabKey == winTabKey) {\n        runInAction(() => {\n          const jobHistoryList = pageData.data\n          i.jobHistoryList = jobHistoryList\n          if (jobHistoryList.length > 0) {\n            i.jobId = jobHistoryList[0].jobId\n          }\n        })\n      }\n    })\n  }\n)\n\nconst changeJobHistory = (\n  winTabKey: string,\n  jobId: string,\n  consumer: (history: IJobHistory) => void\n) => {\n  workspaceData.consoleDataList.forEach((i) => {\n    if (i.winTabKey === winTabKey) {\n      i.jobHistoryList.forEach((j) => {\n        if (j.jobId === jobId) {\n          consumer(j)\n        }\n      })\n    }\n  })\n}\n\nconst fetchConsoleLog = action(async (winTabKey: string, jobId: string) => {\n  changeJobHistory(winTabKey, jobId, async (j) => {\n    if (!j.log) {\n      j.log = { jobId, lines: [], done: false, offset: 0, length: 100 }\n    }\n    const log = j.log\n    const value = await consoleApi.fetchOffsetLog(jobId, log.offset, log.length)\n    runInAction(async () => {\n      changeJobHistory(winTabKey, jobId, (j) => {\n        let l = j.log\n        if (j.jobId === jobId) {\n          l.done = value.done\n          l.lines = l.lines.concat(value.lines)\n          l.offset = l.offset += value.lines.length\n        }\n      })\n    })\n  })\n})\n\nconst fetchConsoleResult = action(async (winTabKey: string, jobId: string) => {\n  changeJobHistory(winTabKey, jobId, async (i) => {\n    if (i.done) {\n      const result = await consoleApi.fetchQueryResult(jobId)\n      runInAction(() => {\n        i.result = result\n      })\n    }\n  })\n})\n\nconst checkConsoleJobDone = action(async (winTabKey: string, jobId: string) => {\n  changeJobHistory(winTabKey, jobId, async (i) => {\n    let done = i.done\n    if (!done) {\n      done = await consoleApi.checkJobDone(jobId)\n      runInAction(() => {\n        i.done = done\n      })\n      if (done) {\n        consoleApi.getJobHistory(jobId).then((data) => {\n          runInAction(() => {\n            Object.assign(i, data)\n          })\n        })\n      }\n    }\n  })\n})\n\nconst cancelConsoleJob = action(async (winTabKey: string, jobId?: string) => {\n  jobId = jobId || workspaceData.consoleDataList.find((i) => i.winTabKey === winTabKey)?.jobId\n  if (jobId === undefined) {\n    return\n  }\n  let jobId1: string = jobId as string\n  changeJobHistory(winTabKey, jobId, async (i) => {\n    const success = await consoleApi.cancelJob(jobId1)\n    if (success) {\n      consoleApi.checkJobDone(jobId1).then((data) => {\n        if (data) {\n          message.success('取消成功！')\n        }\n      })\n    }\n  })\n})\n\nexport default {\n  workspaceData,\n  fetchWorkspace,\n  fetchBizList,\n  fetchFileDetail,\n  fetchTempQueryTreeData,\n  fetchResourceTreeData,\n  fetchDocumentTreeData,\n  fetchComponentTreeData,\n  fetchDeleteFileList,\n  fetchCommitRecords,\n  saveFile,\n\n  // 修改内容\n  changeFileContent: action(\n    <T extends IFileContent>(fileId: number, consumer: (content: T) => void) => {\n      changeFileData(fileId, (i) => consumer(i.content as T))\n    }\n  ),\n  // 修改配置\n  changeFileCfg: action(<T extends IFileCfg>(fileId: number, consumer: (cfg: T) => void) => {\n    changeFileData(fileId, (i) => consumer(i.cfg as T))\n  }),\n\n  // 控制台相关\n  fetchJobHistoryList,\n  changeConsoleJobId: action((winTabKey: string, jobId: string) => {\n    const consoleData = workspaceData.consoleDataList.find((i) => i.winTabKey === winTabKey)\n    if (consoleData) {\n      consoleData.jobId = jobId\n    }\n  }),\n  fetchConsoleLog,\n  fetchConsoleResult,\n  cancelConsoleJob,\n  checkConsoleJobDone,\n  isConsoleRun: (winTabKey: string) => {\n    return (\n      workspaceData.consoleDataList.filter(\n        (i) =>\n          i.winTabKey === winTabKey &&\n          i.jobHistoryList.filter((j) => j.jobId === i.jobId && !j.done).length > 0\n      ).length > 0\n    )\n  }\n}\n","import uiStore from './databench/ui'\nimport dataStore from './databench/data'\n\nexport default {\n  BenchStore: {\n    uiStore,\n    dataStore\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport { renderRoutes } from 'react-router-config'\nimport './styles/index.css'\nimport routes from './routes'\nimport stores from './stores'\nimport { Provider } from 'mobx-react'\nimport 'antd/dist/antd.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider stores={stores}>\n      <HashRouter>{renderRoutes(routes)}</HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"names":["relList","document","createElement","supports","link","querySelectorAll","processPreload","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","fetch","href","p","seen","__vitePreload","baseModule","deps","length","Promise","all","map","dep","isCss","endsWith","cssSelector","querySelector","as","crossOrigin","head","appendChild","res","rej","addEventListener","then","Button","props","_a","className","size","color","disabled","children","restProps","__objRest","classes","classNames","__spreadValues","__spreadProps","pages","path","name","routesConfig","exact","component","React","memo","history","useHistory","i","key","onClick","push","pathname","loadable","newVal","t","consumer","setLocal","value","localStorage","setItem","JSON","stringify","getLocal","defaultValue","getItem","parse","count","commonClick","setTimeout","tabs","observable","array","deep","uiSetting","theme","curTabKey","windowFooterSplitSize","windowFooterVsible","toggleWindowFooterVisible","action","setWindowFooterVisible","visible","setWindowFooterFull","full","windowFooterFull","changeWindowFooterSplitSize","autorun","classList","add","_b","remove","toggleTheme","getTab","find","getTabIndex","findIndex","addTab","newTab","tmp","tab","tmpIndex","forEach","Object","assign","changeTab","splice","closeTab","index2","nextIndex","closeAllTabs","closeOtherTabs","closeToTheRightTabs","closeSavedTabs","filter","changed","includes","keepTabOpen","setTabChange","uiStore","curTab","computed","service","axios","create","baseURL","timeout","requstData","async","config","data","request","error","errorCdoe","msg","message","success","requestResult","result","GET","url","method","POST","PUT","DELETE","fetchTreeData","workspaceId","moduleType","bizId","fetchBizGraph","fetchOutputNodes","commitFile","fileId","comment","createFolder","param","createFile","modifyFolder","modifyFile","deleteFile","deleteFolder","folderId","getFiles","fileType","runFile","checkJobDone","jobId","isFileTab","windowTabKey","startsWith","isCategoryTab","windowKey","isBizTab","getBizIdFromWindowTabKey","Number","split","getFileIdFromWindowTabKey","substring","workspaceData","id","description","fileList","consoleDataList","fetchWorkspace","workspace","codeApi.fetchWorkspace","runInAction","fetchBizList","list","codeApi.fetchBizList","promises","codeApi.fetchTreeData","items","bizTreeData","bizList","fetchFileDetail","fileDetail","codeApi.fetchFileDetail","fileData","content","cfg","fetchTempQueryTreeData","tempQueryTreeData","tmpQueryTreeData","fetchResourceTreeData","resourceTreeData","fetchDocumentTreeData","documentTreeData","fetchComponentTreeData","componentTreeData","fetchDeleteFileList","deleteFileList","changeFileData","idx","saveFile","file","codeApi.saveFile","fetchCommitRecords","records","codeApi.fetchCommitRecords","sort","a","b","version","commitRecords","fetchJobHistoryList","winTabKey","pageNum","pageSize","jobHistoryList","pageData","changeJobHistory","j","fetchConsoleLog","log","lines","done","offset","consoleApi.fetchOffsetLog","j2","l","concat","fetchConsoleResult","consoleApi.fetchQueryResult","checkConsoleJobDone","consoleApi.checkJobDone","getJobHistory","cancelConsoleJob","jobId1","consoleApi.cancelJob","stores","BenchStore","dataStore","changeFileContent","changeFileCfg","changeConsoleJobId","consoleData","isConsoleRun","ReactDOM","render","StrictMode","Provider","HashRouter","renderRoutes","routes","getElementById"],"mappings":"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"}